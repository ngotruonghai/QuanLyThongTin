import{a as k,b as B}from"./data-provider-DQq8f4-V.js";import{d as C,T as u,A as P,c,b as a,w as e,aa as S,o as g,a as l,g as v,ab as o,ac as b,t as m,V as F}from"./index-fOVdEkyq.js";import{V as T}from"./VContainer-BrrcF9wx.js";import{V as h,a as d}from"./VRow-DicJEefM.js";import{V as w,a as H}from"./VCard-sZzZ-EzQ.js";import{V as f}from"./VSpacer-Dgd1zaq4.js";import{V as A,a as N}from"./VDataTable-S0h7Y-dB.js";import{c as I}from"./VList-mYRTjyJK.js";import{V as L}from"./VSnackbar-DK-AW1kD.js";import"./LocalStorageServices-x3QvaJ3J.js";import"./forwardRefs-B1WaA45D.js";import"./scopeId-C-Mf5Yul.js";import"./VInput-DIo13qYO.js";const M={class:"ChillColor"},R={style:{"text-align":"center"}},U={key:0,class:"status-badge status-active"},E={key:1,class:"status-badge status-locked"},_={class:"action-buttons"},et=C({__name:"DanhSachPhongBan",setup(q){const V=S();let n=u("");u([]);let x=[{text:"STT",value:"STT",width:"30px",sortable:!0},{text:"Mã phòng ban",value:"maPhongBan"},{text:"Tên phòng ban",value:"tenPhongBan"},{text:"Ngày tạo",value:"created"},{text:"Trạng thái hoạt động",value:"status"},{text:"Thao tác",value:"id"}],i=u({visible:!1,color:"#CD3333",icon:"mdi-cancel",title:"Login Failed",text:"Invalid username or password. Please try again."}),p=u({succeeded:null,code:null,message:null,errors:null,data:[]});async function y(){try{const r=await k("/api/quanlythongtin/PhongBan/DanhSachPhongBan","GET",{},{timeout:15e3});p.value=r,console.log(p.value)}catch(r){i.value.text=r,i.value.visible=!0}}function D(){V.push("/home/taophongban")}return P(()=>{y()}),(r,t)=>(g(),c("div",M,[a(T,null,{default:e(()=>[a(h,null,{default:e(()=>[a(d,{cols:"12",md:"6"}),a(d,{cols:"12",md:"6"},{default:e(()=>[l("button",{class:"btnAdd btn",onClick:t[0]||(t[0]=s=>D())},t[5]||(t[5]=[l("span",{class:"icon-border"},[l("i",{class:"fas fa-plus"})],-1),v(" Thêm mới ")]))]),_:1})]),_:1}),a(h,null,{default:e(()=>[a(d,{cols:"12"},{default:e(()=>[l("div",null,[a(w,{flat:""},{default:e(()=>[a(H,{class:"d-flex align-center pe-2"},{default:e(()=>[a(f),a(f),a(f),a(f),t[6]||(t[6]=l("div",{class:"FontDefault",style:{"margin-right":"10px"}},"Tìm kiếm",-1)),a(A,{modelValue:o(n),"onUpdate:modelValue":t[1]||(t[1]=s=>b(n)?n.value=s:n=s),density:"compact",label:"Search","prepend-inner-icon":"mdi-magnify",variant:"solo-filled",flat:"","hide-details":"","single-line":""},null,8,["modelValue"])]),_:1}),a(I),a(N,{search:o(n),"onUpdate:search":t[3]||(t[3]=s=>b(n)?n.value=s:n=s),"filter-keys":["maPhongBan","tenPhongBan"],items:o(p).data,headers:o(x),"item-value":"id"},{"header.STT":e(()=>t[7]||(t[7]=[l("div",{class:"HeaderTable FontDefault"},"STT",-1)])),"item.STT":e(({index:s})=>[l("div",R,m(s+1),1)]),"header.maPhongBan":e(()=>t[8]||(t[8]=[l("div",{class:"HeaderTable FontDefault"},"Mã phòng ban",-1)])),"header.tenPhongBan":e(()=>t[9]||(t[9]=[l("div",{class:"HeaderTable FontDefault"},"Tên phòng ban",-1)])),"header.created":e(()=>t[10]||(t[10]=[l("div",{class:"HeaderTable FontDefault"},"Ngày tạo",-1)])),"item.created":e(({item:s})=>[l("div",null,m(o(B)(s.created)),1)]),"header.status":e(()=>t[11]||(t[11]=[l("div",{class:"HeaderTable FontDefault"},"Trạng thái",-1)])),"item.status":e(({item:s})=>[l("div",null,[s.status?(g(),c("span",U," Đã kích hoạt ")):(g(),c("span",E," Chưa kích hoạt "))])]),"header.id":e(()=>t[12]||(t[12]=[l("div",{class:"HeaderTable FontDefault"},"Thao tác",-1)])),"item.id":e(({item:s})=>[l("div",_,[l("button",{class:"action-button view",onClick:t[2]||(t[2]=()=>{})},t[13]||(t[13]=[l("i",{class:"mdi mdi-eye"},null,-1)])),t[14]||(t[14]=l("button",{class:"action-button delete"},[l("i",{class:"mdi mdi-trash-can"})],-1))])]),_:1},8,["search","items","headers"])]),_:1})])]),_:1})]),_:1}),a(L,{modelValue:o(i).visible,"onUpdate:modelValue":t[4]||(t[4]=s=>o(i).visible=s),timeout:2e3,color:o(i).color},{default:e(()=>[a(T,null,{default:e(()=>[a(h,null,{default:e(()=>[a(d,{cols:"1"},{default:e(()=>[a(F,{color:"white"},{default:e(()=>[v(m(o(i).icon),1)]),_:1})]),_:1}),a(d,{cols:"11",style:{"padding-top":"14px"}},{default:e(()=>[v(m(o(i).text),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","color"])]),_:1})]))}});export{et as default};
