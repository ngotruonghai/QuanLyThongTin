import{_ as L}from"./BtnDiaLogYesNo.vue_vue_type_style_index_0_lang-CsPIoTGH.js";import{d as w,r as d,w as K,k as Q,o as x,h as F,D as I,E as q,e as l,F as z,G as O,f as o,m as U,t as C,_ as Y,y as $,b as t,a,l as P,n as p,p as u,q as y,H as V,i as k,C as Z,s as j,v as J}from"./index-B5B_0OU1.js";import{_ as W}from"./CbPhanQuyen-Ds0oRN4L.js";import"./VSpacer-B6YnJQEr.js";import"./VDialog-iNpL7p3N.js";const X={class:"combobox-container"},ll=["value"],el=w({__name:"CBPhongBan",props:{Id:{}},emits:["update:Id"],setup(N,{emit:s}){const g=s,v=N,f=d(v.Id);let _=d({succeeded:null,code:null,message:null,errors:null,data:[]});async function b(){try{const i=await U("/api/quanlythongtin/PhongBan/DanhSachPhongBan","GET",{},{timeout:15e3});_.value=i,console.log(_.value)}catch{}}function m(){g("update:Id",f.value)}return K(()=>v.Id,i=>{f.value=i}),Q(async()=>{await b()}),(i,r)=>(x(),F("div",X,[I(l("select",{id:"email",class:"combobox","onUpdate:modelValue":r[0]||(r[0]=h=>f.value=h),onChange:m},[r[1]||(r[1]=l("option",{value:"",key:"0"},null,-1)),(x(!0),F(z,null,O(o(_).data,(h,D)=>(x(),F("option",{key:h.id,value:h.id},C(h.tenPhongBan),9,ll))),128))],544),[[q,f.value]]),r[2]||(r[2]=l("span",{class:"combobox-icon"},"▼",-1))]))}}),tl=Y(el,[["__scopeId","data-v-438b2a74"]]),al={class:"ChillColor"},nl={class:"input-container"},ol={class:"input-container"},sl={type:"text",id:"myInputId",class:"FontDefault",placeholder:"",value:"123Pa$$word!",ref:"taiKhoanRef",readonly:""},il={class:"input-container"},ul={class:"input-container"},dl={class:"input-container"},rl={class:"input-container"},cl={class:"input-container"},pl={class:"input-container"},fl={style:{float:"right"}},yl=w({__name:"CreateAccountNew",setup(N){let s=d({visible:!1,color:"#CD3333",icon:"mdi-cancel",title:"Login Failed",text:"Invalid username or password. Please try again."}),g=d(""),v=d(""),f=d(""),_=d(""),b=d(""),m=d(!1),i=d(""),r=d("");const h=d(""),D=$({get:()=>h.value,set:c=>{h.value=c.replace(/[^a-zA-Z0-9]/g,"")}}),B=d(!1),A=c=>{B.value=c,B.value==!0&&S()};function T(c){_.value=c}function R(c){b.value=c}const M=()=>{D.value===""?(i.value='Vui lòng nhập "TÀI KHOẢN"!',m.value=!1):v.value===""?(i.value='Vui lòng nhập "HỌ"!',m.value=!1):g.value===""?(i.value='Vui lòng nhập "TÊN"!',m.value=!1):_.value==""?(i.value='Vui lòng chọn "QUYỀN"!',m.value=!1):b.value==""?(i.value='Vui lòng chọn "PHÒNG BAN"!',m.value=!1):(i.value="Bạn có muốn tạo tài khoản không?",m.value=!0)};async function S(){try{let c=await U("/api/account/CreateAcount","POST",{roleId:_.value??"",firstName:v.value??"",lastName:g.value??"",email:f.value??"",userName:D.value??"",phoneNumber:r.value??"",phongBanId:b.value},{timeout:15e3});s.value.text="Tạo thành công",s.value.visible=!0,s.value.color="#109011"}catch(c){s.value.text=c,s.value.visible=!0,s.value.color="#CD3333"}}return(c,e)=>{const E=W,H=tl,G=L;return x(),F("div",al,[t(P,null,{default:a(()=>[t(p,null,{default:a(()=>[t(u,{cols:"12",md:"6"},{default:a(()=>[t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>e[6]||(e[6]=[l("div",{class:"input-container"},[l("label",{for:"",class:"FontDefault"},"Mã nhân viên"),l("input",{type:"text",id:"",class:"FontDefault",placeholder:"Mã nhân viên được tạo tự động khi xác nhận tạo thành công",readonly:""})],-1)])),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",nl,[e[7]||(e[7]=l("label",{for:"",class:"FontDefault"},[l("div",{style:{display:"inline-block","vertical-align":"middle",color:"red"}},"*"),y(" Tài khoản (user đăng nhập không dấu không khoảng cách) ")],-1)),I(l("input",{type:"text",id:"myInputId",class:"FontDefault",placeholder:"VD: nguyenvantuan","onUpdate:modelValue":e[0]||(e[0]=n=>k(D)?D.value=n:null),ref:"taiKhoanRef"},null,512),[[V,o(D)]])])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",ol,[e[8]||(e[8]=l("label",{for:"",class:"FontDefault"},[y(" Mật khẩu (mặc định) "),l("div",{style:{display:"inline-block","vertical-align":"middle",color:"red"}},"Người dụng tự đổi mật khẩu khi vào phần mềm")],-1)),l("input",sl,null,512)])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",il,[e[9]||(e[9]=l("label",{for:"",class:"FontDefault"},[l("div",{style:{display:"inline-block","vertical-align":"middle",color:"red"}},"*"),y(" Quyền ")],-1)),t(E,{RoleId:o(_),"onUpdate:RoleId":T},null,8,["RoleId"])])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",ul,[e[10]||(e[10]=l("label",{for:"",class:"FontDefault"},[l("div",{style:{display:"inline-block","vertical-align":"middle",color:"red"}},"*"),y(" Phòng ban ")],-1)),t(H,{Id:o(b),"onUpdate:Id":R},null,8,["Id"])])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",dl,[e[11]||(e[11]=l("label",{for:"",class:"FontDefault"},"Email",-1)),I(l("input",{type:"email",id:"",class:"FontDefault","onUpdate:modelValue":e[1]||(e[1]=n=>k(f)?f.value=n:f=n),placeholder:"VD: NguyenVanAn@gmail.com"},null,512),[[V,o(f)]])])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",rl,[e[12]||(e[12]=l("label",{for:"",class:"FontDefault"},[l("div",{style:{display:"inline-block","vertical-align":"middle",color:"red"}},"*"),y(" Họ ")],-1)),I(l("input",{type:"text",id:"",class:"FontDefault","onUpdate:modelValue":e[2]||(e[2]=n=>k(v)?v.value=n:v=n),placeholder:"VD: Nguyễn"},null,512),[[V,o(v)]])])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",cl,[e[13]||(e[13]=l("label",{for:"",class:"FontDefault"},[l("div",{style:{display:"inline-block","vertical-align":"middle",color:"red"}},"*"),y(" Tên ")],-1)),I(l("input",{type:"text",id:"",class:"FontDefault",ref:"tenRef","onUpdate:modelValue":e[3]||(e[3]=n=>k(g)?g.value=n:g=n),placeholder:"VD: Văn An"},null,512),[[V,o(g)]])])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",pl,[e[14]||(e[14]=l("label",{for:"",class:"FontDefault"},"Số điện thoại",-1)),I(l("input",{type:"text",id:"",class:"FontDefault",placeholder:"VD: 0968103653","onUpdate:modelValue":e[4]||(e[4]=n=>k(r)?r.value=n:r=n)},null,512),[[V,o(r)]])])]),_:1})]),_:1})]),_:1}),t(u,{cols:"12",style:{"text-align":"center","margin-top":"50px"},md:"6"},{default:a(()=>[t(Z,{size:"150",class:"me-4"},{default:a(()=>e[15]||(e[15]=[l("img",{src:"https://via.placeholder.com/150",alt:"User Avatar"},null,-1)])),_:1})]),_:1})]),_:1}),l("div",fl,[t(G,{IsError:o(m),"-ten-button":"Tạo tài khoản",Messgase:o(i),"-title":"Thông báo",onDataSent:A,onClick:M},null,8,["IsError","Messgase"])]),t(j,{modelValue:o(s).visible,"onUpdate:modelValue":e[5]||(e[5]=n=>o(s).visible=n),timeout:2e3,color:o(s).color},{default:a(()=>[t(P,null,{default:a(()=>[t(p,null,{default:a(()=>[t(u,{cols:"1"},{default:a(()=>[t(J,{color:"white"},{default:a(()=>[y(C(o(s).icon),1)]),_:1})]),_:1}),t(u,{cols:"11",style:{"padding-top":"14px"}},{default:a(()=>[y(C(o(s).text),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","color"])]),_:1})])}}});export{yl as default};
