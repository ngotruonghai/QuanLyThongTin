import{d as k,r as u,k as B,h as c,b as t,a,l as b,u as C,m as P,o as g,n as v,p as d,e as l,q as h,j as S,V as F,f as n,i as T,g as w,t as m,K as H,s as N,v as A}from"./index-B5B_0OU1.js";import{V as f}from"./VSpacer-B6YnJQEr.js";import{V as I,a as L}from"./VDataTable-BUe7IlCM.js";const M={class:"ChillColor"},R={style:{"text-align":"center"}},U={key:0,class:"status-badge status-active"},q={key:1,class:"status-badge status-locked"},E={class:"action-buttons"},z=k({__name:"DanhSachPhongBan",setup(_){const V=C();let o=u("");u([]);let x=[{text:"STT",value:"STT",width:"30px",sortable:!0},{text:"Mã phòng ban",value:"maPhongBan"},{text:"Tên phòng ban",value:"tenPhongBan"},{text:"Ngày tạo",value:"created"},{text:"Trạng thái hoạt động",value:"status"},{text:"Thao tác",value:"id"}],i=u({visible:!1,color:"#CD3333",icon:"mdi-cancel",title:"Login Failed",text:"Invalid username or password. Please try again."}),p=u({succeeded:null,code:null,message:null,errors:null,data:[]});async function y(){try{const r=await P("/api/quanlythongtin/PhongBan/DanhSachPhongBan","GET",{},{timeout:15e3});p.value=r,console.log(p.value)}catch(r){i.value.text=r,i.value.visible=!0}}function D(){V.push("/home/taophongban")}return B(()=>{y()}),(r,e)=>(g(),c("div",M,[t(b,null,{default:a(()=>[t(v,null,{default:a(()=>[t(d,{cols:"12",md:"6"}),t(d,{cols:"12",md:"6"},{default:a(()=>[l("button",{class:"btnAdd btn",onClick:e[0]||(e[0]=s=>D())},e[5]||(e[5]=[l("span",{class:"icon-border"},[l("i",{class:"fas fa-plus"})],-1),h(" Thêm mới ")]))]),_:1})]),_:1}),t(v,null,{default:a(()=>[t(d,{cols:"12"},{default:a(()=>[l("div",null,[t(S,{flat:""},{default:a(()=>[t(F,{class:"d-flex align-center pe-2"},{default:a(()=>[t(f),t(f),t(f),t(f),e[6]||(e[6]=l("div",{class:"FontDefault",style:{"margin-right":"10px"}},"Tìm kiếm",-1)),t(I,{modelValue:n(o),"onUpdate:modelValue":e[1]||(e[1]=s=>T(o)?o.value=s:o=s),density:"compact",label:"Search","prepend-inner-icon":"mdi-magnify",variant:"solo-filled",flat:"","hide-details":"","single-line":""},null,8,["modelValue"])]),_:1}),t(w),t(L,{search:n(o),"onUpdate:search":e[3]||(e[3]=s=>T(o)?o.value=s:o=s),"filter-keys":["maPhongBan","tenPhongBan"],items:n(p).data,headers:n(x),"item-value":"id"},{"header.STT":a(()=>e[7]||(e[7]=[l("div",{class:"HeaderTable FontDefault"},"STT",-1)])),"item.STT":a(({index:s})=>[l("div",R,m(s+1),1)]),"header.maPhongBan":a(()=>e[8]||(e[8]=[l("div",{class:"HeaderTable FontDefault"},"Mã phòng ban",-1)])),"header.tenPhongBan":a(()=>e[9]||(e[9]=[l("div",{class:"HeaderTable FontDefault"},"Tên phòng ban",-1)])),"header.created":a(()=>e[10]||(e[10]=[l("div",{class:"HeaderTable FontDefault"},"Ngày tạo",-1)])),"item.created":a(({item:s})=>[l("div",null,m(n(H)(s.created)),1)]),"header.status":a(()=>e[11]||(e[11]=[l("div",{class:"HeaderTable FontDefault"},"Trạng thái",-1)])),"item.status":a(({item:s})=>[l("div",null,[s.status?(g(),c("span",U," Đã kích hoạt ")):(g(),c("span",q," Chưa kích hoạt "))])]),"header.id":a(()=>e[12]||(e[12]=[l("div",{class:"HeaderTable FontDefault"},"Thao tác",-1)])),"item.id":a(({item:s})=>[l("div",E,[l("button",{class:"action-button view",onClick:e[2]||(e[2]=()=>{})},e[13]||(e[13]=[l("i",{class:"mdi mdi-eye"},null,-1)])),e[14]||(e[14]=l("button",{class:"action-button delete"},[l("i",{class:"mdi mdi-trash-can"})],-1))])]),_:1},8,["search","items","headers"])]),_:1})])]),_:1})]),_:1}),t(N,{modelValue:n(i).visible,"onUpdate:modelValue":e[4]||(e[4]=s=>n(i).visible=s),timeout:2e3,color:n(i).color},{default:a(()=>[t(b,null,{default:a(()=>[t(v,null,{default:a(()=>[t(d,{cols:"1"},{default:a(()=>[t(A,{color:"white"},{default:a(()=>[h(m(n(i).icon),1)]),_:1})]),_:1}),t(d,{cols:"11",style:{"padding-top":"14px"}},{default:a(()=>[h(m(n(i).text),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","color"])]),_:1})]))}});export{z as default};
